07-游戏开发中的一些基本概念
====

致谢: http://blog.csdn.net/ls1122/article/details/38341031

**1. 游戏的循环**
----

在运行Cocos2d-x中的empty-test时，左下角会有几个数字的显示，"GL verts", "GL calls" 这两个与openGL相关<br>
的，重点是“60.0 /0.010"  这个就是FPS(frame pre second), 60.0是每一秒刷新60帧， 0.010是刷新一帧耗时<br>
0.01second;  FPS一般认识是数值越大，游戏越流畅，而游戏引擎一般是循环来渲染每一帧，cocos2d-x同样如此。

在Cocos2d-x中的这个循环是在Application::run()中处理的，而这每一帧的刷新在Director::mainLoop()中，这样<br>
在每一帧中要处理图形的渲染，事件的分发等。

**2. Director, Scene, Layer, Sprite**
----

Cocos2d-x中采用节点树形结构来管理游戏对象，一个游戏可以划分不同的**场景**，一个场景有可以分为不同的**层**，<br> 
一个层下可以有任意个节点。<br>
这些基本的类都派生于Node,可以使用Action来修改游戏节点的熟悉，使其移动，旋转，缩放等。<br>
Director统筹游戏大局，处理OpenGL ES的初始化，场景切换，游戏暂停继续控制等，<br>
Scene主要是游戏的流程控制作用，<br>
Layer在Node上扩展了对事件的处理<br>
Sprite在Node上增加了纹理，由Texture, frame和animation组成。<br>

相互之间的关系框架如下图所示:
(导演控制场景，场景控制图层，图层控制精灵，精灵控制动作)

<img src="https://github.com/marcush1022/SomeNotes/blob/master/img/07.jpg" width="50%" height="50%" />

由此看出：<br>
1. 整个游戏一般只有一个导演。<br>
2. 一个游戏可以由多个场景组成（菜单界面、游戏界面、游戏结束界面等），但是每次导演只能指导一个场景的运作。<br>
3. 一个场景可以由多个图层组成（背景层、道具层、英雄层、怪物层等，每个图层都可以由多个精灵元素组成（标签、按钮、菜单等）。 <br>
4. 对于图层上的每个精灵元素，一般都附带相应的动作，可以带多个动作。如挥刀、使用魔法、跑、跳，以及放大、缩小、旋转等动作。<br>

**3. 动作和动画**
----

Cocos2dx中动作有两种， 即时动作和持续动作。<br>
即时动作：在下一帧立刻完成。<br>
持续动作：在一段时间内完成，通过逐渐变化来实现动画效果。<br>
动画由帧组成，每一帧都是一个纹理，我们可以使用一个纹理序列来创建动画。<br>

**4. 粒子系统**
----

粒子系统表示三维计算机图形学中模拟一些特定的模糊现象的技术，而这些现象用其它传统的渲染技术难以实现的真实感
的game physics。经常使用粒子系统模拟的现象有火、爆炸、烟、水流、火花、落叶、云、雾、雪、尘、流星尾迹或者
象发光轨迹这样的抽象视觉效果等等。

在Cocos2d-x中，主要由ParticleSystem提供, 一般可以采用粒子编辑器如Particl Designer,particl-editor编辑出
粒子效果导出plist文件，给Cocos2dx使用。

**5. 物理引擎**
----
物理这个一般是对现实世界的描述，而游戏中很多场景都需要模拟现实世界，如物体碰撞，旋转，重力等， 这个当然可以
通过自行编程实现，但当场景比较复杂的时候就比较麻烦了；而物理引擎就是把这些属性进行了良好的封装，可以实现对现
实物体的模拟。下面是书面上的定义: 

"*物理引擎通过给物体赋予真实的物理属性来模拟现实世界中物体的运动，包括碰撞，移动，旋转等。当游戏中需要实现比
较复杂的物体碰撞，滚动或者弹跳式，可以利用物理引擎来模拟。*""

在Cocos2d-x中采用了2个开源的物理引擎，Box2d和chipmunk，里面physics目录下，有对其的一个封装。
