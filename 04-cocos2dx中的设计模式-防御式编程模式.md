04-cocos2dx中的设计模式-防御式编程
=====

**注：防御式编程并不是设计模式，只是提高代码质量的手段**

cocos2d-x的框架源代码大量采用了防御式编程技术，用来确保框架的代码质量和稳定性<br>

**1.应用场景**
----

例如，在cocos2d-x的框架源代码中大量使用的do…while(0)

**2.使用此模式的优缺点**
----

* 优点：
提高代码质量，使得代码的健壮性和稳定性都有保障。可以防止子程序由于接收到了非法数据而遭受破坏。

* 缺点：
过度的防御式编程也会引来问题，如果你在每一个能想到的地方用每一种能想到的方法检查从参数传入的数据，那么你的程序将会变得臃肿而缓慢。更糟糕
的是，防御式编程引入的额外代码增加了软件的复杂度。所以运用是需谨慎。

**3.此模式的定义及一般实现**
----

* 检查每个子程序的入口参数，记住“垃圾进、垃圾出”。

* 尽可能让函数返回一些东西，这样如果当函数运行出现问题时，可以根据返回值做一些处理. <br>
如果全部设计成void类型的函数，那么出现异常要么就是try—catch，要么就是直接让程序崩溃了。由于c++的异常机制并不是那么完
善，cocos2d-x里面几乎没有使用c++的异常处理机制。

